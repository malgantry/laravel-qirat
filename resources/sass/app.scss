@tailwind base;
@tailwind components;
@tailwind utilities;

/* Bootstrap-to-Tailwind shim: keep existing markup working without Bootstrap CSS */
.container { @apply mx-auto max-w-6xl px-4; }
.row { @apply flex flex-wrap -mx-2; }
.row > * { @apply px-2; }
.col, .col-12 { @apply w-full; }
.col-md-3 { @apply w-full md:w-1/4; }
.col-md-4 { @apply w-full md:w-1/3; }
.col-md-6 { @apply w-full md:w-1/2; }
.col-md-8 { @apply w-full md:w-2/3; }
.col-lg-2 { @apply w-full lg:w-1/6; }
.col-lg-3 { @apply w-full lg:w-1/4; }
.col-lg-4 { @apply w-full lg:w-1/3; }
.col-lg-6 { @apply w-full lg:w-1/2; }

.d-flex { @apply flex; }
.flex-fill { @apply flex-1; }
.align-items-center { @apply items-center; }
.align-items-end { @apply items-end; }
.justify-content-between { @apply justify-between; }
.justify-content-end { @apply justify-end; }
.justify-content-center { @apply justify-center; }
.flex-wrap { flex-wrap: wrap; }
.gap-1 { gap: 0.25rem; }
.gap-2 { gap: 0.5rem; }
.gap-3 { gap: 0.75rem; }

.mb-0 { margin-bottom: 0; }
.mb-1 { margin-bottom: 0.25rem; }
.mb-2 { margin-bottom: 0.5rem; }
.mb-3 { margin-bottom: 0.75rem; }
.mb-4 { margin-bottom: 1rem; }
.mt-1 { margin-top: 0.25rem; }
.mt-2 { margin-top: 0.5rem; }
.mt-3 { margin-top: 0.75rem; }
.mt-4 { margin-top: 1rem; }
.me-2 { margin-left: 0.5rem; }
.ms-2 { margin-right: 0.5rem; }
.py-2 { padding-top: 0.5rem; padding-bottom: 0.5rem; }
.py-3 { padding-top: 0.75rem; padding-bottom: 0.75rem; }
.py-4 { padding-top: 1rem; padding-bottom: 1rem; }
.px-2 { padding-left: 0.5rem; padding-right: 0.5rem; }
.px-3 { padding-left: 0.75rem; padding-right: 0.75rem; }
.px-4 { padding-left: 1rem; padding-right: 1rem; }
.p-0 { padding: 0; }
.p-2 { padding: 0.5rem; }
.p-3 { padding: 0.75rem; }

.btn { @apply inline-flex items-center justify-center px-4 py-2 rounded-md font-semibold transition shadow-sm text-sm; }
.btn:disabled { @apply opacity-60 cursor-not-allowed; }
.btn-primary { color: var(--button-text-contrast); background: var(--primary-gradient); border: 1px solid var(--brand-mid); }
.btn-primary:hover { filter: brightness(1.05); }
.primary-gradient { background: var(--primary-gradient); color: var(--button-text-contrast); border: 1px solid var(--brand-mid); }
.primary-gradient:hover { filter: brightness(1.04); }
.gold-gradient { background: var(--primary-gradient); color: var(--button-text-contrast); border: 1px solid var(--brand-mid); }
.gold-black-gradient { background: linear-gradient(135deg, #0b0b0b, var(--brand-start)); color: #fff; }
.gold-white-gradient { background: linear-gradient(135deg, #ffffff, var(--brand-end)); color: #0b0b0b; border: 1px solid var(--card-border); }
.btn-outline-primary { color: var(--brand-start); border: 1px solid var(--brand-start); background: transparent; }
.btn-outline-primary:hover { background: linear-gradient(135deg, rgba(11,11,11,0.06), rgba(233,196,106,0.12)); color: var(--button-text); }
.btn-outline-secondary { color: var(--text-primary); border: 1px solid var(--card-border); background: var(--card-bg); }
.btn-outline-secondary:hover { background: linear-gradient(135deg, rgba(11,11,11,0.04), rgba(233,196,106,0.10)); }
.btn-light { border: 1px solid var(--card-border); background: var(--card-bg); color: var(--text-primary); }
.btn-dark { background: #0f0f0f; color: #ffffff; border: 1px solid #303030; }
.btn-danger { background: var(--danger); color: #fff; border: 1px solid #b94500; }

.form-label { @apply block text-sm font-semibold text-slate-700 mb-1; letter-spacing: -0.01em; line-height: 1.35; }
.form-control, .form-select { @apply w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 focus:border-blue-400 focus:ring-2 focus:ring-blue-200; }
.form-select { @apply cursor-pointer; }
.form-control-lg { @apply text-base; padding-top: 0.85rem; padding-bottom: 0.85rem; }
.input-group-text { background: var(--card-bg); color: var(--text-primary); border-color: var(--card-border); font-weight: 600; }

.table { @apply w-full text-sm; }
.table th { @apply text-left font-semibold text-slate-600; }
.table td { @apply text-slate-800; }
.table-responsive { @apply overflow-auto; }

.alert { @apply rounded-xl px-4 py-3 border; }
.alert-warning { @apply bg-amber-50 border-amber-200 text-amber-800; }

.badge { @apply inline-flex items-center rounded-full px-2 py-1 text-xs font-semibold; }
.badge.text-bg-light { @apply bg-slate-100 text-slate-700; }

.progress { @apply w-full bg-slate-200 rounded-full overflow-hidden; height: 10px; }
.progress-bar { @apply h-full bg-blue-500; }
.bg-danger { @apply bg-red-500; }

.card-header, .card-body, .card-footer { @apply w-full; }

.shadow-sm { box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05); }

#toast-area .toast-chip { @apply flex items-center gap-2 px-3 py-2 rounded-full text-sm text-white; }

/* Text helpers to ensure good contrast in both themes */
.text-primary { color: var(--text-primary); }
.text-secondary { color: var(--text-secondary); }
.text-muted { color: var(--text-secondary); }
.muted { color: var(--text-secondary); }
.d-none { display: none; }
.on-light { color: var(--button-text); }
.on-dark { color: var(--button-text-contrast); }

:root {
    /* Golden / earth palette */
    --brand-start: #c9a227;
    --brand-mid: #b07f2f;
    --brand-end: #e6c87a;
    --brand-blue: #4a6572; /* cool counterpoint */
    --success: #c9a227;
    --danger: #d35400;
    --warning: #e6b450;
    --muted: #7a6b5a;
    --bg-surface: #f3eee6;
    --card-bg: #f8f5ef;
    --card-border: #e4dccf;
    --text-primary: #2f261c;
    --text-secondary: #7a6b5a;
    --button-text: #0b0b0b;
    --button-text-contrast: #ffffff;
    --primary-gradient: linear-gradient(135deg, var(--brand-start), var(--brand-mid), var(--brand-end));
    --shadow-soft: 0 12px 32px rgba(46, 35, 24, 0.08);
    --brand-soft: rgba(201, 162, 39, 0.14);
    --danger-soft: rgba(211, 84, 0, 0.15);
}

html[data-theme="dark"] {
    --bg-surface: #16130f;
    --card-bg: #1e1a15;
    --card-border: #2b241b;
    --text-primary: #fff9ec;
    --text-secondary: #e2d6bd;
    --button-text: #0b0b0b;
    --button-text-contrast: #ffffff;
    --shadow-soft: 0 12px 32px rgba(0, 0, 0, 0.55);
}

html[data-theme="dark"] .text-slate-900,
html[data-theme="dark"] .text-slate-800,
html[data-theme="dark"] .text-slate-700,
html[data-theme="dark"] .text-slate-600,
html[data-theme="dark"] h1,
html[data-theme="dark"] h2,
html[data-theme="dark"] h3,
html[data-theme="dark"] h4,
html[data-theme="dark"] h5,
html[data-theme="dark"] h6,
html[data-theme="dark"] p,
html[data-theme="dark"] span,
html[data-theme="dark"] label {
    color: var(--text-primary);
}

html[data-theme="dark"] .text-muted,
html[data-theme="dark"] .text-secondary,
html[data-theme="dark"] small,
html[data-theme="dark"] .muted {
    color: var(--text-secondary);
}

/* Dark mode clarity: buttons and typography */
html[data-theme="dark"] .btn-primary {
    color: #ffffff;
    background: linear-gradient(135deg, var(--brand-mid), var(--brand-start));
    border-color: var(--brand-end);
}
html[data-theme="dark"] .btn-outline-primary {
    color: var(--brand-end);
    border-color: var(--brand-end);
}
html[data-theme="dark"] .btn-outline-secondary, 
html[data-theme="dark"] .btn-light {
    color: var(--text-primary);
    border-color: #3a2f23;
    background: #0f0f0f;
}
html[data-theme="dark"] .form-control, 
html[data-theme="dark"] .form-select {
    background: #0f0f0f;
    border-color: #3a2f23;
    color: var(--text-primary);
}
html[data-theme="dark"] .form-control::placeholder, 
html[data-theme="dark"] .form-select::placeholder {
    color: var(--text-secondary);
    opacity: 0.9;
}
html[data-theme="dark"] .tab-link.active,
html[data-theme="dark"] .tab-link:hover {
    background: linear-gradient(135deg, rgba(233,196,106,0.24), rgba(11,11,11,0.25));
    color: var(--text-primary);
}

/* Fin Smart style overrides */
html[data-style="finsmart"] {
    /* Lime-led Fintrack palette */
    --brand-start: #9be563; /* lime accent */
    --brand-mid: #7ad94c;
    --brand-end: #c8ff91;
    --brand-blue: #06b6d4;  /* auxiliary cyan */
    --brand-soft: rgba(155, 229, 99, 0.14);
    --danger-soft: rgba(239, 68, 68, 0.16);
    --bg-surface: #f3f7fb;
    --card-bg: #ffffff;
    --card-border: #d9e3f0;
    --text-primary: #0f172a;
    --text-secondary: #475569;
}

html[data-style="finsmart"][data-theme="dark"],
html[data-theme="dark"][data-style="finsmart"] {
    --bg-surface: #0b0f16;   /* deep charcoal */
    --card-bg: #101722;      /* dark slab */
    --card-border: #1c2636;  /* outline */
    --text-primary: #e8eef7; /* light text */
    --text-secondary: #9fb1c3; /* muted */
    --shadow-soft: 0 12px 32px rgba(0, 0, 0, 0.6);
}

body {
    direction: rtl;
    text-align: right;
    font-family: "Cairo", "Helvetica Neue", Arial, sans-serif;
    font-size: 16px;
    line-height: 1.6;
    letter-spacing: -0.01em;
    -webkit-font-smoothing: antialiased;
    background: radial-gradient(circle at 12% 20%, rgba(11, 11, 11, 0.06), transparent 26%),
        radial-gradient(circle at 85% 10%, rgba(233, 196, 106, 0.10), transparent 28%),
        radial-gradient(circle at 10% 80%, rgba(255, 255, 255, 0.12), transparent 26%),
        var(--bg-surface);
    color: var(--text-primary);
    transition: background 0.2s ease, color 0.2s ease;
}

// Shared polished form shell (hero + glass card)
.form-hero {
    padding: 32px 16px;
    background: radial-gradient(circle at 8% 18%, rgba(201, 162, 39, 0.12), transparent 36%),
        radial-gradient(circle at 86% 10%, rgba(11, 11, 11, 0.06), transparent 44%),
        linear-gradient(135deg, rgba(11, 11, 11, 0.9) 0%, rgba(31, 31, 31, 0.92) 35%, rgba(201, 162, 39, 0.24) 100%);
    border-radius: 18px;
    position: relative;
}

.form-card {
    width: 100%;
    border-radius: 18px;
    background: var(--card-bg);
    color: var(--text-primary);
    border: 1px solid rgba(255, 255, 255, 0.08);
    box-shadow: 0 25px 60px rgba(0, 0, 0, 0.16);
    overflow: hidden;
}

.form-card .accent-bar {
    height: 4px;
    width: 100%;
    background: var(--primary-gradient);
}

.form-card .card-body {
    padding: 28px;
}

.form-card h5 {
    font-weight: 800;
    letter-spacing: -0.02em;
}

.form-sub {
    color: #9ca3af;
    font-size: 0.95rem;
}

html[data-theme="dark"] body {
    background: radial-gradient(circle at 12% 20%, rgba(11, 11, 11, 0.10), transparent 26%),
        radial-gradient(circle at 85% 10%, rgba(233, 196, 106, 0.12), transparent 28%),
        radial-gradient(circle at 10% 80%, rgba(255, 255, 255, 0.10), transparent 26%),
        var(--bg-surface);
}

body[dir="ltr"] {
    text-align: left;
}

h1, h2, h3, h4, h5, h6 {
    color: var(--text-primary);
    font-weight: 800;
    letter-spacing: -0.02em;
    line-height: 1.25;
    margin-bottom: 0.35em;
}

h1 { font-size: clamp(1.9rem, 1.4rem + 1.2vw, 2.4rem); }
h2 { font-size: clamp(1.6rem, 1.2rem + 1vw, 2.1rem); }
h3 { font-size: clamp(1.35rem, 1.05rem + 0.8vw, 1.8rem); }
h4 { font-size: 1.2rem; }
h5 { font-size: 1.05rem; }
h6 { font-size: 0.95rem; }

p { color: var(--text-secondary); margin-bottom: 0.75rem; }
.lead { font-size: 1.05rem; color: var(--text-primary); }
.section-title { font-weight: 800; font-size: clamp(1.4rem, 1.1rem + 0.6vw, 1.8rem); }
.section-subtitle { color: var(--text-secondary); font-size: 0.98rem; }

.bg-surface {
    background: var(--bg-surface);
}

.top-shell {
    background: linear-gradient(120deg, rgba(11,11,11,0.12), rgba(233,196,106,0.18), rgba(255,255,255,0.12));
    border-bottom: 1px solid var(--card-border);
}

.logo-mark {
    position: relative;
    width: 54px;
    height: 54px;
    border-radius: 50%;
    background: radial-gradient(circle at 30% 30%, #fff 0%, rgba(255,255,255,0.2) 35%), linear-gradient(135deg, var(--brand-start), var(--brand-mid), var(--brand-end));
    display: grid;
    place-items: center;
    color: #fff;
    font-weight: 800;
    letter-spacing: 0.5px;
    box-shadow: 0 12px 26px rgba(26, 166, 183, 0.32);
}

.logo-mark .logo-ring {
    position: absolute;
    width: 70px;
    height: 70px;
    border-radius: 50%;
    border: 6px solid rgba(255, 255, 255, 0.18);
    inset: -8px;
}

.logo-mark .logo-text {
    position: relative;
    z-index: 1;
}

.logo-img {
    height: 54px;
    width: 54px;
    border-radius: 50%;
    object-fit: cover;
    background: #0b0b0b;
}

/* Light-mode logo backing */
html[data-theme="light"] .logo-img {
    background: #f8f8f8;
    border: 1px solid var(--card-border);
    box-shadow: 0 6px 16px rgba(0,0,0,0.06);
}

/* Toggle light/dark logo assets */
.logo-img-light { display: none; }
.logo-img-dark { display: inline-block; }

html[data-theme="light"] .logo-img-light { display: inline-block; }
html[data-theme="light"] .logo-img-dark { display: none; }

.icon-btn {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    border: 1px solid var(--card-border);
    background: var(--card-bg);
    color: var(--text-primary);
    border-radius: 12px;
    padding: 8px 12px;
    font-weight: 600;
    box-shadow: var(--shadow-soft);
    transition: transform 0.12s ease, box-shadow 0.12s ease;
}

.icon-btn:hover { transform: translateY(-2px); }
.icon-btn i { font-size: 1.1rem; }
.icon-btn .btn-label { font-size: 0.9rem; color: var(--text-secondary); }

.primary-tabs {
    display: grid;
    grid-auto-flow: column;
    grid-auto-columns: 1fr;
    gap: 10px;
    margin: 12px 0 16px;
    background: linear-gradient(135deg, rgba(233,196,106,0.08), rgba(11,11,11,0.08));
    border-radius: 14px;
    padding: 6px;
    border: 1px solid var(--card-border);
}

.tab-link {
    display: block;
    text-align: center;
    padding: 12px 10px;
    color: var(--text-secondary);
    border-radius: 12px;
    font-weight: 700;
    text-decoration: none;
    transition: all 0.15s ease;
}

.tab-link.active,
.tab-link:hover {
    background: linear-gradient(135deg, rgba(233,196,106,0.18), rgba(11,11,11,0.20));
    color: var(--text-primary);
}

/* Fin Smart tabs treatment */
html[data-style="finsmart"] .primary-tabs {
    background: rgba(6, 182, 212, 0.10);
}
html[data-style="finsmart"] .tab-link.active,
html[data-style="finsmart"] .tab-link:hover {
    background: linear-gradient(135deg, rgba(6, 182, 212, 0.18), rgba(14, 165, 233, 0.2));
    color: #0369a1; /* sky-700 */
}

.soft-alert {
    border: none;
    border-radius: 14px;
    box-shadow: var(--shadow-soft);
}

.card,
.card-soft {
    background: var(--card-bg);
    border: 1px solid var(--card-border);
    border-radius: 16px;
    box-shadow: var(--shadow-soft);
    backdrop-filter: blur(2px);
}

.card-title { font-weight: 700; }

.stat-card {
    position: relative;
    overflow: hidden;
}

.stat-card::after {
    content: "";
    position: absolute;
    width: 140px;
    height: 140px;
    border-radius: 50%;
    background: radial-gradient(circle, rgba(233,196,106,0.18), rgba(11,11,11,0));
    inset-inline-start: -30px;
    top: -50px;
}

.stat-value { font-size: 1.8rem; font-weight: 800; }
.stat-label { color: var(--text-secondary); }

.card-header-title {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 12px;
    padding: 12px 0;
}

.card-header-title .eyebrow {
    font-size: 0.85rem;
    color: var(--text-secondary);
    letter-spacing: 0.2px;
}

.card-header-title .title {
    font-weight: 800;
    color: var(--text-primary);
}

.card-header-title .sub {
    color: var(--text-secondary);
    font-size: 0.9rem;
}

.chip {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 6px 10px;
    border-radius: 999px;
    background: rgba(255, 255, 255, 0.4);
    border: 1px solid var(--card-border);
    color: var(--text-secondary);
}

.chip.warning {
    background: rgba(245, 158, 11, 0.12);
    color: #b45309;
}
.chip.danger {
    background: rgba(239, 68, 68, 0.12);
    color: #b91c1c;
}

.progress-soft {
    height: 10px;
    border-radius: 999px;
    background: #e5e7eb;
}

html[data-theme="dark"] .progress-soft { background: #1f2937; }

/* Dark theme readability tweaks */
html[data-theme="dark"] .chip {
    background: rgba(148, 163, 184, 0.16);
    color: #e2e8f0; /* slate-200 */
    border-color: #334155; /* slate-700 */
}
html[data-theme="dark"] .filter-btn {
    background: #0b1220;
    color: var(--text-secondary);
    border-color: #1f2735;
}
html[data-theme="dark"] .starter-chip {
    background: #0f172a;
    border-color: #1f2735;
}
html[data-theme="dark"] .search-input::placeholder { color: #94a3b8; opacity: 0.9; }
.search-input::placeholder { color: var(--text-secondary); opacity: 0.8; }

.hero {
    padding: 2.5rem 0;
}

.summary-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 14px;
}

.fab {
    position: fixed;
    inset-inline-end: 20px;
    bottom: 86px;
    width: 60px;
    height: 60px;
    border-radius: 50%;
    background: linear-gradient(145deg, #0b0b0b, var(--brand-start));
    color: #fff;
    border: none;
    display: grid;
    place-items: center;
    font-size: 1.5rem;
    box-shadow: 0 15px 35px rgba(11, 11, 11, 0.35);
    transition: transform 0.15s ease, box-shadow 0.15s ease;
    z-index: 1000;
}

.fab:hover { transform: translateY(-3px); }

.bottom-nav {
    position: fixed;
    bottom: 0;
    inset-inline: 0;
    background: var(--card-bg);
    border-top: 1px solid var(--card-border);
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    padding: 6px 0;
    box-shadow: var(--shadow-soft);
    z-index: 900;
}

.bottom-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 4px;
    color: var(--text-secondary);
    text-decoration: none;
    font-weight: 600;
    padding: 6px 0;
    transition: transform 0.12s ease, color 0.12s ease;
}

.bottom-item i { font-size: 1.2rem; }

.bottom-item:hover { transform: translateY(-2px); }

.bottom-item.active {
    color: var(--brand-start);
}

.search-bar {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    align-items: center;
}

.search-input {
    flex: 1 1 280px;
    border-radius: 12px;
    border: 1px solid var(--card-border);
    padding: 10px 12px;
    background: var(--card-bg);
    color: var(--text-primary);
}

.filter-btn {
    border-radius: 12px;
    border: 1px solid var(--card-border);
    background: var(--card-bg);
    padding: 10px 14px;
    display: inline-flex;
    align-items: center;
    gap: 6px;
    font-weight: 700;
    color: var(--text-secondary);
}

.filter-btn.active {
    background: linear-gradient(135deg, rgba(233,196,106,0.18), rgba(11,11,11,0.10));
    color: var(--text-primary);
}

.pill-badge {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 6px 12px;
    border-radius: 999px;
    font-weight: 700;
}

.pill-income { background: rgba(16, 185, 129, 0.12); color: #0f9f6e; }
.pill-expense { background: rgba(239, 68, 68, 0.12); color: #b91c1c; }

.list-card {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 12px;
    padding: 14px 12px;
    border-radius: 14px;
    background: var(--card-bg);
    border: 1px solid var(--card-border);
    box-shadow: var(--shadow-soft);
}

.list-card + .list-card { margin-top: 10px; }

.avatar-icon {
    width: 46px;
    height: 46px;
    border-radius: 50%;
    display: grid;
    place-items: center;
    color: #fff;
    font-size: 1.2rem;
    box-shadow: 0 6px 14px rgba(0, 0, 0, 0.08);
}

.profile-chip {
    display: inline-flex;
    align-items: center;
    gap: 10px;
    padding: 8px 12px;
    border-radius: 999px;
    border: 1px solid var(--card-border);
    background: var(--card-bg);
    box-shadow: var(--shadow-soft);
    color: var(--text-primary);
    text-decoration: none;
}

.profile-chip .avatar-img {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    object-fit: cover;
    border: 1px solid var(--card-border);
    background: var(--card-bg);
}

.profile-chip .avatar-fallback {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    display: grid;
    place-items: center;
    font-weight: 800;
    color: #fff;
    background: linear-gradient(135deg, #0b0b0b, #c9a227);
    box-shadow: 0 4px 10px rgba(0,0,0,0.08);
}

.toast-area {
    position: fixed;
    bottom: 90px;
    inset-inline: 16px;
    display: grid;
    gap: 10px;
    z-index: 1200;
}

.toast-chip {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 12px;
    border-radius: 12px;
    box-shadow: var(--shadow-soft);
    color: #fff;
    font-weight: 700;
}

.toast-chip.success { background: #10b981; }
.toast-chip.error { background: #ef4444; }
.toast-chip.info { background: #3b82f6; }

// Mobile-inspired form styling (kept from earlier work)
.transaction-card {
    border: none;
    border-radius: 18px;
    box-shadow: var(--shadow-soft);
    background: var(--card-bg);
}

.segmented-toggle {
    display: flex;
    background: #f1f3f5;
    border-radius: 14px;
    padding: 6px;
    gap: 6px;
}

.segmented-toggle button {
    flex: 1;
    border: none;
    border-radius: 12px;
    padding: 10px 12px;
    font-weight: 600;
    background: transparent;
    color: #6c757d;
    transition: all 0.15s ease;
}

.segmented-toggle button.active-income {
    background: #12b886;
    color: #fff;
    box-shadow: 0 8px 16px rgba(18, 184, 134, 0.2);
}

.segmented-toggle button.active-expense {
    background: #ff7b00;
    color: #fff;
    box-shadow: 0 8px 16px rgba(255, 123, 0, 0.25);
}

.category-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    gap: 12px;
}

.category-tile {
    border: 1px solid var(--card-border);
    background: linear-gradient(180deg, #ffffff, #f8fbfd);
    border-radius: 14px;
    padding: 14px 10px;
    text-align: center;
    color: #2b3640;
    transition: all 0.16s ease;
    box-shadow: 0 8px 18px rgba(15, 23, 42, 0.05);
}

.category-tile i {
    font-size: 22px;
    display: block;
    margin-bottom: 6px;
}

.category-tile:hover { transform: translateY(-3px); box-shadow: 0 12px 24px rgba(15, 23, 42, 0.08); }

.category-tile.active-income,
.category-tile.active-expense {
    color: #fff;
    transform: translateY(-2px);
}

.category-tile.active-income {
    background: linear-gradient(135deg, #0fb788, #15c79a);
    box-shadow: 0 10px 18px rgba(15, 183, 136, 0.25);
}

.category-tile.active-expense {
    background: linear-gradient(135deg, #ff7b00, #ff9f43);
    box-shadow: 0 10px 18px rgba(255, 123, 0, 0.28);
}

/* Round category style inspired by provided UI */
.category-round-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(110px, 1fr));
    gap: 14px;
}

.cat-item { text-align: center; }
.cat-item .cat-label { margin-top: 8px; font-weight: 600; color: var(--text-primary); font-size: .9rem; line-height: 1.1; }
.cat-item .cat-label { overflow: hidden; text-overflow: ellipsis; white-space: nowrap; display: block; }

.category-tile.round {
    width: 76px; height: 76px; border-radius: 50%;
    display: grid; place-items: center;
    border: none;
    background: var(--cat-color, #6b7280);
    color: #fff;
    box-shadow: 0 8px 18px rgba(0,0,0,.08);
    position: relative;
}
.category-tile.round i { font-size: 26px; }
.category-tile.round:hover { transform: translateY(-2px); box-shadow: 0 12px 26px rgba(0,0,0,.12); }

/* Active ring selection to mimic mobile design */
.category-tile.round.active-income {
    outline: 3px solid #ffffff;
    box-shadow: 0 0 0 8px rgba(34, 197, 94, 0.35), 0 12px 24px rgba(0,0,0,.12);
}
.category-tile.round.active-expense {
    outline: 3px solid #ffffff;
    box-shadow: 0 0 0 8px rgba(239, 68, 68, 0.35), 0 12px 24px rgba(0,0,0,.12);
}

/* "More" tile */
.category-tile.round.more {
    background: transparent;
    color: var(--text-primary);
    border: 2px dashed var(--card-border);
}
.category-tile.round.more:hover {
    border-color: var(--primary);
    color: var(--primary);
}

.form-label { font-weight: 600; }

.pill-input {
    border-radius: 12px;
    border: 1px solid #e5e7eb;
    padding: 10px 12px;
    background: var(--card-bg);
    color: var(--text-primary);
}

.save-btn-expense {
    background: #ff7b00;
    border-color: #ff7b00;
}

.save-btn-income {
    background: #12b886;
    border-color: #12b886;
}

.save-btn-expense:hover { background: #e56e00; border-color: #e56e00; }
.save-btn-income:hover { background: #0fa578; border-color: #0fa578; }

.table-modern {
    border-radius: 14px;
    overflow: hidden;
    background: var(--card-bg);
    border: 1px solid var(--card-border);
}

.table-modern thead th {
    background: linear-gradient(120deg, rgba(26,166,183,0.08), rgba(90,200,200,0.08));
    border-bottom: 1px solid var(--card-border);
    color: var(--text-secondary);
    font-weight: 700;
}

.table-modern tbody tr:hover {
    background: rgba(26,166,183,0.06);
    transition: background 0.12s ease;
}

.empty-state {
    border: 1px dashed var(--card-border);
    border-radius: 16px;
    padding: 24px;
    text-align: center;
    background: linear-gradient(180deg, rgba(255,255,255,0.85), rgba(244,248,251,0.92));
    box-shadow: var(--shadow-soft);
}

.empty-state i { font-size: 2rem; color: var(--brand-start); }

.starter-block {
    border: 1px solid var(--card-border);
    border-radius: 14px;
    background: linear-gradient(135deg, rgba(26,166,183,0.07), rgba(109,220,207,0.08));
    padding: 14px;
    box-shadow: var(--shadow-soft);
}

.starter-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 10px;
}

.starter-chip {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 10px 12px;
    border-radius: 12px;
    background: #fff;
    border: 1px solid var(--card-border);
    box-shadow: 0 8px 18px rgba(15, 23, 42, 0.06);
}

.starter-chip .meta {
    display: flex;
    align-items: center;
    gap: 10px;
    color: var(--text-secondary);
}

.badge-soft {
    padding: 4px 8px;
    border-radius: 999px;
    font-size: 0.85rem;
    font-weight: 700;
}

.badge-soft.income { background: rgba(16,185,129,0.12); color: #0f9f6e; }
.badge-soft.expense { background: rgba(239,68,68,0.12); color: #b91c1c; }

@media (max-width: 768px) {
    .hero { padding: 1.5rem 0; }
    .fab { bottom: 78px; }
}

@media (min-width: 992px) {
    .bottom-nav { display: none; }
}

/* Circular progress (donut) for goals */
.radial-progress{
    --size: 84px;
    --thickness: 8px;
    --track: #e9ecef;
    --bar: var(--brand-start);
    --value: 0; /* 0 â€“ 100 */
    width: var(--size);
    height: var(--size);
    border-radius: 50%;
    display: grid;
    place-items: center;
    background: conic-gradient(var(--bar) calc(var(--value)*1%), var(--track) 0);
    -webkit-mask: radial-gradient(farthest-side, transparent calc(50% - var(--thickness)), #000 calc(50% - calc(var(--thickness) - 1px)));
                    mask: radial-gradient(farthest-side, transparent calc(50% - var(--thickness)), #000 calc(50% - calc(var(--thickness) - 1px)));
    box-shadow: 0 2px 10px rgba(0,0,0,.04) inset;
}
.radial-progress > .value{
    font-weight: 800;
    font-size: .95rem;
    color: var(--bar);
}
.radial-progress.sm{ --size: 64px; --thickness: 7px }
.radial-progress.lg{ --size: 108px; --thickness: 10px }

/* Goal card helpers */
.goal-card{ display:flex; align-items:center; gap:1rem; }
.goal-card .meta{ display:grid; gap:.4rem; }
.goal-card .meta .title{ font-weight:800; font-size:1.05rem; }
.goal-card .meta .row{ display:flex; gap:1rem; flex-wrap:wrap; }
.goal-badges{ display:flex; gap:.5rem; flex-wrap:wrap; }
