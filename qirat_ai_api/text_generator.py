import random
from typing import Dict, List, Any


class MessageGenerator:
    """
    Ù…Ù†Ø´Ø¦ Ø±Ø³Ø§Ø¦Ù„ Ø°ÙƒÙŠ ÙŠØ¯Ø¹Ù… Ø«Ù„Ø§Ø« Ù…Ø³ØªÙˆÙŠØ§Øª Ù„Ù„Ù†Ø¨Ø±Ø©:
    - firm: Ø­Ø§Ø²Ù…Ø© Ù…Ø¨Ø§Ø´Ø±Ø©.
    - motivating: Ù…Ø´Ø¬Ø¹Ø© ÙˆØ¯Ø§Ø¹Ù…Ø©.
    - balanced: Ù‡Ø§Ø¯Ø¦Ø© ÙˆÙ…ØªÙˆØ§Ø²Ù†Ø©.
    """

    DEFAULT_TONE = "balanced"
    TONE_LEVELS = ["firm", "motivating", "balanced"]

    PREFIXES: Dict[str, List[str]] = {
        "success": ["", "ØªÙ‡Ø§Ù†ÙŠÙ†Ø§ ðŸŽ‰ ", "Ø±Ø§Ø¦Ø¹ ðŸ”¥ ", "Ø¹Ù…Ù„ Ù…Ù†Ø¸Ù… ðŸ‘Œ "],
        "warning": ["ØªÙ†Ø¨ÙŠÙ‡ âš ï¸ ", "Ø¥Ø´Ø§Ø±Ø© Ø§Ù†ØªØ¨Ø§Ù‡ â— ", "Ù…Ù„Ø§Ø­Ø¸Ø© Ù…Ù‡Ù…Ø© â„¹ï¸ "],
        "info": ["Ù†ØµÙŠØ­Ø© Ø°ÙƒÙŠØ© ðŸ’¡ ", "Ù…Ø¹Ù„ÙˆÙ…Ø© Ø³Ø±ÙŠØ¹Ø© ðŸ§  ", "Ø±Ø¤ÙŠØ© Ù…Ø§Ù„ÙŠØ© ðŸ“Š ", ""]
    }

    GOAL_MSGS: Dict[str, Dict[str, List[str]]] = {
        "goal_near": {
            "firm": [
                "Ù‡Ø¯Ù '{title}' Ø¹Ù„Ù‰ ÙˆØ´Ùƒ Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡ØŒ Ø£Ù†Ù‡ÙÙ‡ Ø§Ù„Ø¢Ù† Ù„ØªØ­Ù…ÙŠ Ø²Ø®Ù…Ùƒ.",
                "Ø®ÙØ·ÙˆØ§Øª Ù‚Ù„ÙŠÙ„Ø© ØªÙØµÙ„Ùƒ Ø¹Ù† '{title}'. Ù„Ø§ ØªØ¤Ø¬Ù„ Ø§Ù„Ø¥ÙŠØ¯Ø§Ø¹ Ø§Ù„Ù‚Ø§Ø¯Ù….",
                "Ø§Ù„ÙØ¬ÙˆØ© Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ© Ù„Ù€ '{title}' ØµØºÙŠØ±Ø© Ø¬Ø¯Ø§Ù‹. Ø£ØºÙ„ÙÙ‚Ù‡Ø§ Ø®Ù„Ø§Ù„ ÙŠÙˆÙ…ÙŠÙ†."],
            "motivating": [
                "Ø­Ù„Ù… '{title}' ØµØ§Ø± Ù…Ù„Ù…ÙˆØ³Ø§Ù‹. Ø®Ø·ÙˆØ© Ø£Ø®ÙŠØ±Ø© ÙˆØªØ­ØªÙÙ„!",
                "Ø¥Ù†Ø¬Ø§Ø² Ø°ÙƒÙŠ: Ù…Ø§ Ø¨Ù‚ÙŠ Ø¹Ù„Ù‰ '{title}' Ø¥Ù„Ø§ Ù„Ù…Ø³Ø© Ø¨Ø³ÙŠØ·Ø©.",
                "Ø¥Ø¯Ø§Ø±Ø© Ù…Ø­ØªØ±ÙØ©: Ù‚Ø±ÙŠØ¨ Ø¬Ø¯Ø§Ù‹ Ù…Ù† '{title}'. Ø§Ø³ØªÙ…Ø± Ø¨Ù†ÙØ³ Ø§Ù„ÙˆØªÙŠØ±Ø©."],
            "balanced": [
                "Ø£Ù†Øª Ù‚Ø±ÙŠØ¨ Ù…Ù† Ø¥Ù†Ù‡Ø§Ø¡ '{title}'. Ø­Ø§ÙØ¸ Ø¹Ù„Ù‰ Ù†ÙØ³ Ø§Ù„Ø¥ÙŠÙ‚Ø§Ø¹ Ø­ØªÙ‰ Ø§Ù„Ø¥ØºÙ„Ø§Ù‚.",
                "ÙˆØªÙŠØ±Ø© Ø§Ù„Ø§Ø¯Ø®Ø§Ø± ØªÙ‚ÙˆØ¯Ùƒ Ù„Ø¥Ù†Ø¬Ø§Ø² '{title}' Ù‚Ø±ÙŠØ¨Ø§Ù‹.",
                "Ø§Ù„ØªÙ‚Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ Ù…Ù…ØªØ§Ø² Ù„Ù€ '{title}'. Ø§Ø³ØªÙ…Ø± Ø­ØªÙ‰ Ø§Ù„Ø§ÙƒØªÙ…Ø§Ù„."],
        },
        "goal_done": {
            "firm": [
                "ØªÙ… Ø¥Ù†Ø¬Ø§Ø² '{title}'. Ø§Ù†ØªÙ‚Ù„ Ù„Ø¬Ø¯ÙˆÙ„Ø© Ù‡Ø¯ÙÙƒ Ø§Ù„ØªØ§Ù„ÙŠ ÙÙˆØ±Ø§Ù‹.",
                "Ø¥Ù†Ù‡Ø§Ø¡ '{title}' Ù†Ø¬Ø§Ø­ ÙˆØ§Ø¶Ø­. ÙˆØ¸Ù‘Ù Ø§Ù„ÙØ§Ø¦Ø¶ Ù„ÙØ±ØµØ© Ø¬Ø¯ÙŠØ¯Ø©."],
            "motivating": [
                "Ø¥Ù†Ø¬Ø§Ø² Ù†ÙˆØ¹ÙŠ Ù„Ù€ '{title}'! Ø§Ø­ØªÙÙ„ ÙˆØ§Ø¨Ø¯Ø£ Ù‡Ø¯ÙØ§Ù‹ Ø¬Ø¯ÙŠØ¯Ø§Ù‹ Ø¨Ø®Ø·Ø© Ø£Ø°ÙƒÙ‰.",
                "Ø¹Ù‚Ù„ÙŠØ© ÙˆØ§Ø¹ÙŠØ© ðŸ§ : Ø­Ù‚Ù‚Øª '{title}' Ø¨ØªÙˆØ§Ø²Ù† Ø±Ø§Ø¦Ø¹."],
            "balanced": [
                "Ø£Ø­Ø³Ù†ØªØŒ Ø§ÙƒØªÙ…Ù„ '{title}'. Ø±Ø§Ø¬Ø¹ Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ© ÙˆØ­Ø±Ù‘Ø± Ù…ÙˆØ§Ø±Ø¯Ùƒ.",
                "Ø§ÙƒØªÙ…Ù„ '{title}'. Ø®Ø·ÙˆØ© Ù…ÙˆÙÙ‚Ø© Ù†Ø­Ùˆ Ø§Ø³ØªÙ‚Ø±Ø§Ø± Ø£ÙƒØ¨Ø±."],
        },
        "deadline_warn": {
            "firm": [
                "Ø¨Ø§Ù‚ÙŠ {days} Ø£ÙŠØ§Ù… Ø¹Ù„Ù‰ '{title}'. Ø²Ø¯ Ø§Ù„Ø¥ÙŠØ¯Ø§Ø¹ Ø£Ùˆ Ø®ÙÙ Ù…ØµØ±ÙˆÙØ§Øª Ø§Ù„ÙŠÙˆÙ….",
                "Ø§Ù„Ù…ÙˆØ¹Ø¯ ÙŠÙ‚ØªØ±Ø¨ Ù„Ù€ '{title}'. Ø§ØªØ®Ø° Ø¥Ø¬Ø±Ø§Ø¡ ÙÙˆØ±ÙŠ Ù„ØªÙØ§Ø¯ÙŠ Ø§Ù„ØªØ£Ø®ÙŠØ±."],
            "motivating": [
                "{days} Ø£ÙŠØ§Ù… ÙÙ‚Ø· Ø¹Ù„Ù‰ '{title}'. Ø£ÙŠ Ø²ÙŠØ§Ø¯Ø© Ø¨Ø³ÙŠØ·Ø© Ø§Ù„Ø¢Ù† ØªÙØºÙ„Ù‚ Ø§Ù„ÙØ¬ÙˆØ©.",
                "Ø¶ØºØ· Ø§Ù„ÙˆÙ‚Øª Ù„Ù€ '{title}' Ø¹Ø§Ù„Ù. Ø®Ø·ÙˆØ© Ù…Ø±ÙƒØ²Ø© Ø§Ù„ÙŠÙˆÙ… ØªÙ†Ù‚Ø°Ùƒ."],
            "balanced": [
                "Ù…ØªØ¨Ù‚ÙŠ {days} Ø£ÙŠØ§Ù… Ù„Ù€ '{title}'. Ø§Ø¶Ø¨Ø· Ø§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª Ù„ØªÙ„Ø­Ù‚ Ø¨Ø§Ù„Ù…ÙˆØ¹Ø¯.",
                "Ø§Ù„ÙˆÙ‚Øª ÙŠØ¯Ø§Ù‡Ù… Ù‡Ø¯Ù '{title}'. Ø£Ø¹Ø¯ ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª Ù…Ø¤Ù‚ØªØ§Ù‹."],
        },
        "daily_amount": {
            "firm": [
                "Ø§Ø¯Ø®Ø± {amount} ÙŠÙˆÙ…ÙŠØ§Ù‹ Ù„Ù€ '{title}' Ø­ØªÙ‰ Ø§Ù„Ù…ÙˆØ¹Ø¯. Ø§Ù„ØªØ²Ù… Ø¨Ù„Ø§ Ø§Ø³ØªØ«Ù†Ø§Ø¡.",
                "Ø§Ø¬Ø¹Ù„ {amount} Ø¯ÙØ¹Ø© Ø«Ø§Ø¨ØªØ© ÙŠÙˆÙ…ÙŠØ©ØŒ ÙˆØ¥Ù„Ø§ Ø³ÙŠØªØ£Ø®Ø± '{title}'."],
            "motivating": [
                "{amount} ÙŠÙˆÙ…ÙŠØ§Ù‹ ØªÙƒÙÙŠ Ù„Ø¥ØºÙ„Ø§Ù‚ '{title}' Ø¨Ø±Ø§Ø­Ø©.",
                "ØªØ®ØµÙŠØµ {amount} ÙƒÙ„ ÙŠÙˆÙ… ÙŠØ¶Ù…Ù† ÙˆØµÙˆÙ„Ùƒ Ù„Ù€ '{title}' Ø¨Ù„Ø§ Ø¶ØºØ·."],
            "balanced": [
                "Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ø§Ù„ÙŠÙˆÙ…ÙŠ Ù„Ù€ '{title}' Ù‡Ùˆ {amount}. Ø­Ø§ÙØ¸ Ø¹Ù„Ù‰ Ù‡Ø°Ø§ Ø§Ù„Ø¥ÙŠÙ‚Ø§Ø¹.",
                "Ø§Ø¯Ø®Ø§Ø± {amount} ÙŠÙˆÙ…ÙŠØ§Ù‹ ÙŠØ­Ø§ÙØ¸ Ø¹Ù„Ù‰ Ø®Ø·Ø© '{title}' Ù…Ø³ØªÙ‚Ø±Ø©."],
        },
        "early_bird": {
            "firm": [
                "Ø¨Ø¯Ø¡ Ù…Ø¨ÙƒØ± Ù„Ù€ '{title}'. Ø­Ø§ÙØ¸ Ø¹Ù„Ù‰ Ø§Ù„ØµØ¯Ø§Ø±Ø© ÙˆÙ„Ø§ ØªÙ‡Ø¯Ø£ Ø§Ù„Ø¢Ù†.",
                "Ø§Ù„ØªÙ‚Ø¯Ù… Ø§Ù„Ø³Ø±ÙŠØ¹ ÙÙŠ '{title}' Ù…Ù…ØªØ§Ø²ØŒ Ù„ÙƒÙ† Ø§Ø³ØªÙ…Ø± Ø¨Ù†ÙØ³ Ø§Ù„Ø§Ù†Ø¶Ø¨Ø§Ø·."],
            "motivating": [
                "Ø§Ù†Ø·Ù„Ø§Ù‚Ø© Ø±Ø§Ø¦Ø¹Ø© Ù„Ù€ '{title}'! Ù‡Ø°Ø§ ÙŠÙ…Ù†Ø­Ùƒ Ù…Ø±ÙˆÙ†Ø© Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠØ©.",
                "Ø®Ø·ÙˆØ© Ø°ÙƒÙŠØ©: ØªØ³Ø±ÙŠØ¹ '{title}' Ù…Ù†Ø° Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© ÙŠØ¹Ø·ÙŠÙƒ Ø£Ù…Ø§Ù†Ø§Ù‹ Ø£ÙƒØ¨Ø±."],
            "balanced": [
                "Ø¨Ø¯Ø§ÙŠØ© Ù‚ÙˆÙŠØ© Ù„Ù€ '{title}'. Ø­Ø§ÙØ¸ Ø¹Ù„Ù‰ ÙˆØªÙŠØ±Ø© Ø«Ø§Ø¨ØªØ©.",
                "Ø§Ù„ØªÙ‚Ø¯Ù… Ø§Ù„Ù…Ø¨ÙƒØ± ÙÙŠ '{title}' ÙŠØ®ÙÙ Ø§Ù„Ø¶ØºØ· Ù„Ø§Ø­Ù‚Ø§Ù‹."],
        },
        "stagnant": {
            "firm": [
                "Ø±ÙƒÙˆØ¯ ÙÙŠ '{title}'. Ø£Ø¹Ø¯ ØªÙ†Ø´ÙŠØ·Ù‡ Ø§Ù„ÙŠÙˆÙ… Ø£Ùˆ Ø£ÙˆÙ‚ÙÙ‡ Ù…Ø¤Ù‚ØªØ§Ù‹ Ø¨Ù‚Ø±Ø§Ø± ÙˆØ§Ø¶Ø­.",
                "ØªÙˆÙ‚Ù Ø·ÙˆÙŠÙ„ ÙÙŠ '{title}'. Ø­Ø¯Ø¯ Ø¯ÙØ¹Ø© Ø§Ù„Ø¢Ù† Ø£Ùˆ Ø±Ø§Ø¬Ø¹ Ø£ÙˆÙ„ÙˆÙŠØ© Ø§Ù„Ù‡Ø¯Ù."],
            "motivating": [
                "'{title}' ÙŠØ­ØªØ§Ø¬ Ø¯ÙØ¹Ø© Ø¨Ø³ÙŠØ·Ø© Ù„ÙŠØ¹ÙˆØ¯ Ù„Ù„Ù…Ø³Ø§Ø±. Ø§Ø¨Ø¯Ø£ Ø¨Ù…Ø¨Ù„Øº ØµØºÙŠØ±.",
                "Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ '{title}' Ø§Ù„Ø¢Ù† ØªØ¹ÙŠØ¯ Ø«Ù‚ØªÙƒ Ø¨Ø§Ù„Ø®Ø·Ø©."],
            "balanced": [
                "Ù„Ø§Ø­Ø¸Ù†Ø§ Ù‡Ø¯ÙˆØ¡Ø§Ù‹ ÙÙŠ '{title}'. Ø§Ø¯ÙØ¹ Ø¥ÙŠØ¯Ø§Ø¹Ø§Ù‹ Ø®ÙÙŠÙØ§Ù‹ Ù„Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¥ÙŠÙ‚Ø§Ø¹.",
                "ØºÙŠØ§Ø¨ Ø§Ù„Ù†Ø´Ø§Ø· ÙÙŠ '{title}' Ù‚Ø¯ ÙŠØ¤Ø®Ø±Ù‡. Ø¬Ø±Ù‘Ø¨ ØªØ­ÙˆÙŠÙ„ ØµØºÙŠØ± Ø§Ù„ÙŠÙˆÙ…."],
        },
        "generic": {
            "firm": [
                "Ø§Ø³ØªÙ…Ø±Ø§Ø±Ùƒ ÙÙŠ '{title}' Ø¬ÙŠØ¯ØŒ Ù„ÙƒÙ† Ø±Ø§Ù‚Ø¨ Ø§Ù„Ù…ØµØ§Ø±ÙŠÙ Ù„ØªØ¨Ù‚Ù‰ Ù…Ù†Ø¶Ø¨Ø·Ø§Ù‹.",
                "Ø­Ø§ÙØ¸ Ø¹Ù„Ù‰ Ø§Ù†ØªØ¸Ø§Ù… Ø§Ù„Ø¥ÙŠØ¯Ø§Ø¹Ø§Øª Ù„Ù€ '{title}' Ù„ØªØ¬Ù†Ø¨ Ø§Ù„ØªØ¨Ø§Ø·Ø¤."],
            "motivating": [
                "Ø§Ø³ØªØ«Ù…Ø§Ø±Ùƒ ÙÙŠ '{title}' ÙŠØµÙ†Ø¹ Ø£Ù…Ø§Ù†Ùƒ Ø§Ù„Ù‚Ø§Ø¯Ù…. Ø®Ø·ÙˆØ© Ù…Ø­Ø³ÙˆØ¨Ø©!",
                "Ø§Ù„Ø§Ø³ØªÙ…Ø±Ø§Ø±ÙŠØ© ÙÙŠ '{title}' ØªØ¹Ù†ÙŠ Ù…Ø³ØªÙ‚Ø¨Ù„ Ø£Ù‡Ø¯Ø£ Ù„Ùƒ."],
            "balanced": [
                "ØªÙ‚Ø¯Ù… Ù…Ø³ØªÙ‚Ø± ÙÙŠ '{title}'. Ø§Ø³ØªÙ…Ø± Ø¹Ù„Ù‰ Ù†ÙØ³ Ø§Ù„Ù†Ù‡Ø¬.",
                "ÙƒÙ„ Ø¥ÙŠØ¯Ø§Ø¹ ÙÙŠ '{title}' ÙŠÙ‚Ø±Ø¨Ùƒ Ù…Ù† Ø§Ù„Ø§Ø³ØªÙ‚Ø±Ø§Ø± Ø§Ù„Ù…Ø§Ù„ÙŠ."],
        },
    }

    TRANS_MSGS: Dict[str, Dict[str, List[str]]] = {
        "saving_hero": {
            "firm": [
                "Ø®ÙØ¶Ùƒ Ù„Ù…ØµØ§Ø±ÙŠÙ '{category}' Ù‚Ø±Ø§Ø± ÙˆØ§Ø¹Ù. ÙˆØ§ØµÙ„ Ø§Ù„Ø±Ù‚Ø§Ø¨Ø© Ø§Ù„Ø¯Ù‚ÙŠÙ‚Ø©.",
                "Ø§Ù†Ø¶Ø¨Ø§Ø· Ù‚ÙˆÙŠ ÙÙŠ '{category}'. Ø£Ø¨Ù‚Ù Ø§Ù„Ø³Ù‚Ù Ù…Ù†Ø®ÙØ¶Ø§Ù‹ Ù‡Ø°Ø§ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹."],
            "motivating": [
                "Ø¥Ø¯Ø§Ø±Ø© Ù…Ø­ØªØ±ÙØ© Ù„Ù€ '{category}'. Ù‡Ø°Ø§ ÙŠØ¹Ø²Ø² Ù…Ø¯Ø®Ø±Ø§ØªÙƒ ÙÙˆØ±Ø§Ù‹.",
                "Ø¹Ù‚Ù„ÙŠØ© ÙˆØ§Ø¹ÙŠØ© ðŸ§ : Ø¶Ø¨Ø· '{category}' ÙŠØ¹Ø·ÙŠÙƒ Ù…Ø³Ø§Ø­Ø© Ù„Ù‡Ø¯Ù Ø£ÙƒØ¨Ø±."],
            "balanced": [
                "ØµØ±Ù '{category}' ØªØ­Øª Ø§Ù„Ø³ÙŠØ·Ø±Ø©. Ø§Ø³ØªÙ…Ø± Ø¨Ù†ÙØ³ Ø§Ù„Ù†Ù…Ø·.",
                "Ø§Ù†Ø®ÙØ§Ø¶ '{category}' Ø¥ÙŠØ¬Ø§Ø¨ÙŠ. Ø­Ø§ÙØ¸ Ø¹Ù„Ù‰ Ø§Ù„Ø¥ÙŠÙ‚Ø§Ø¹."],
        },
        "financial_discipline": {
            "firm": [
                "ØªÙˆØ§Ø²Ù† ÙˆØ§Ø¶Ø­ ÙÙŠ Ù…ÙŠØ²Ø§Ù†ÙŠØªÙƒ. Ù„Ø§ ØªØ³Ù…Ø­ Ø¨Ø§Ù†ÙÙ„Ø§Øª Ù…ÙØ§Ø¬Ø¦.",
                "Ø¶Ø¨Ø· Ø§Ù„ØªØ¯ÙÙ‚Ø§Øª Ù…Ù…ØªØ§Ø². Ø§Ø³ØªÙ…Ø± Ø¨Ù„Ø§ Ø§Ø³ØªØ«Ù†Ø§Ø¡Ø§Øª."],
            "motivating": [
                "Ù…ÙŠØ²Ø§Ù†ÙŠØ© Ù…Ù†Ø¶Ø¨Ø·Ø© ØªÙ…Ù†Ø­Ùƒ Ø­Ø±ÙŠØ© Ø£ÙƒØ¨Ø± Ù„Ø§Ø­Ù‚Ø§Ù‹.",
                "Ø¥Ø¯Ø§Ø±Ø© Ù‡Ø§Ø¯Ø¦Ø© Ù„Ù„ØªØ¯ÙÙ‚Ø§Øª ØªØ¹Ù†ÙŠ Ø§Ø³ØªÙ‚Ø±Ø§Ø±Ø§Ù‹ Ø¯Ø§Ø¦Ù…Ø§Ù‹."],
            "balanced": [
                "Ù…ÙŠØ²Ø§Ù†ÙŠØªÙƒ Ù…ØªÙˆØ§Ø²Ù†Ø© Ø­Ø§Ù„ÙŠØ§Ù‹. Ø±Ø§Ù‚Ø¨ Ø§Ù„Ø«Ø¨Ø§Øª Ø¨Ù†ÙØ³ Ø§Ù„Ù…Ø³ØªÙˆÙ‰.",
                "Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø­Ø§Ù„ÙŠ Ø¬ÙŠØ¯. Ø§Ø³ØªÙ…Ø± Ø¨Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠØ©."],
        },
        "budget_exceeded": {
            "firm": [
                "ØªØ¬Ø§ÙˆØ²Øª Ù…ÙŠØ²Ø§Ù†ÙŠØ© '{category}' Ø¨Ù€ {amount}. Ø£ÙˆÙ‚Ù Ø§Ù„ØµØ±Ù ÙÙˆØ±Ø§Ù‹ Ù„Ù‡Ø°Ù‡ Ø§Ù„ÙØ¦Ø©.",
                "Ø¥Ù†Ø°Ø§Ø± Ø¬Ø§Ø¯: Ø³Ù‚Ù '{category}' ÙƒÙØ³Ø±. Ø£Ø¹Ø¯ ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ù…ØµØ§Ø±ÙŠÙ Ø§Ù„Ø¢Ù†."],
            "motivating": [
                "Ù…ÙŠØ²Ø§Ù†ÙŠØ© '{category}' ØªØ®Ø·Øª Ø§Ù„Ø­Ø¯. Ø®ÙÙ Ø§Ù„Ø±ÙØ§Ù‡ÙŠØ§Øª Ø§Ù„ÙŠÙˆÙ… Ù„ØªØ¹ÙˆÙŠØ¶ Ø§Ù„ÙØ§Ø±Ù‚.",
                "ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªÙˆØ§Ø²Ù† Ù„Ù€ '{category}' Ø¨ØªØ¬Ù…ÙŠØ¯ Ø§Ù„Ø¥Ù†ÙØ§Ù‚ Ù„Ø¨Ø¶Ø¹Ø© Ø£ÙŠØ§Ù…."],
            "balanced": [
                "ØµØ±Ù '{category}' ØªØ¬Ø§ÙˆØ² Ø§Ù„Ø­Ø¯ Ø¨Ù€ {amount}. Ø§Ø¶Ø¨Ø· Ø®Ø·ØªÙƒ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠØ©.",
                "Ø±Ø§Ù‚Ø¨ '{category}' Ù„Ø¨Ù‚ÙŠØ© Ø§Ù„Ø´Ù‡Ø± Ù„ØªÙØ§Ø¯ÙŠ Ø¹Ø¬Ø²."],
        },
        "near_budget_limit": {
            "firm": [
                "Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ '{category}' ÙŠÙ‚ØªØ±Ø¨ Ù…Ù† Ø§Ù„Ø­Ø¯. Ø£ÙˆÙ‚Ù Ø£ÙŠ Ù†ÙÙ‚Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©.",
                "Ø¨Ù‚ÙŠ Ù‡Ø§Ù…Ø´ Ø¨Ø³ÙŠØ· ÙÙŠ '{category}'. Ø§Ù…ØªÙ†Ø¹ Ø¹Ù† Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª ØºÙŠØ± Ø§Ù„Ø¶Ø±ÙˆØ±ÙŠØ©."],
            "motivating": [
                "Ù…ÙŠØ²Ø§Ù†ÙŠØ© '{category}' Ø´Ø¨Ù‡ Ù…Ù…ØªÙ„Ø¦Ø©. ÙŠÙˆÙ…Ø§Ù† Ù…Ù† Ø§Ù„ØªØ®ÙÙŠÙ ÙŠØ¹ÙŠØ¯Ø§Ù† Ø§Ù„ØªÙˆØ§Ø²Ù†.",
                "Ø®ÙÙ '{category}' Ù…Ø¤Ù‚ØªØ§Ù‹ Ù„ØªØ­Ø§ÙØ¸ Ø¹Ù„Ù‰ Ø®Ø·ØªÙƒ Ø¨Ø¯ÙˆÙ† Ø¶ØºØ·."],
            "balanced": [
                "Ø§Ù‚ØªØ±Ø¨Øª Ù…Ù† Ø­Ø¯ '{category}'. Ø±Ø§Ø¬Ø¹ Ø§Ù„ØµØ±Ù Ù‚Ø¨Ù„ Ø§Ù„Ø¥ÙƒÙ…Ø§Ù„.",
                "Ù‡Ø§Ù…Ø´ '{category}' Ø¶ÙŠÙ‚. ØªØ­ÙƒÙ… Ø¨Ø³ÙŠØ· ÙŠØ­Ù…ÙŠ Ø¨Ù‚ÙŠØ© Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ©."],
        },
        "burn_rate_warning": {
            "firm": [
                "ÙˆØªÙŠØ±Ø© Ø§Ù„ØµØ±Ù Ø¹Ø§Ù„ÙŠØ© Ø¬Ø¯Ø§Ù‹ Ø­Ø§Ù„ÙŠØ§Ù‹. Ø£ÙˆÙ‚Ù Ø¨Ø¹Ø¶ Ø§Ù„Ø¨Ù†ÙˆØ¯ ÙÙˆØ±Ø§Ù‹.",
                "Ø­Ø±Ù‚ Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ© Ø³Ø±ÙŠØ¹. Ø®ÙÙ Ø§Ù„Ø³Ø­Ø¨ Ø§Ù„ÙŠÙˆÙ… Ù„ØªØ¬Ù†Ø¨ Ø§Ù„Ø¹Ø¬Ø²."],
            "motivating": [
                "Ø§Ù„ØµØ±Ù Ø£Ø³Ø±Ø¹ Ù…Ù† Ø§Ù„Ù…Ø¹ØªØ§Ø¯. ØªÙ‚Ù„ÙŠÙ„ Ø¨Ø³ÙŠØ· Ø§Ù„Ø¢Ù† ÙŠØ­Ø§ÙØ¸ Ø¹Ù„Ù‰ Ø±Ø§Ø­ØªÙƒ Ù„Ø§Ø­Ù‚Ø§Ù‹.",
                "Ø®ÙÙ Ø§Ù„Ø¥ÙŠÙ‚Ø§Ø¹ Ù„Ø¨Ù‚ÙŠØ© Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ù„ØªØ³ØªØ¹ÙŠØ¯ Ø§Ù„Ø£Ù…Ø§Ù†."],
            "balanced": [
                "Ù…Ø¹Ø¯Ù„ Ø§Ù„ØµØ±Ù Ù…Ø±ØªÙØ¹. Ø±Ø§Ø¬Ø¹ Ø§Ù„Ù…ØµØ§Ø±ÙŠÙ Ù„Ù‡Ø°Ø§ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ù„Ø¶Ø¨Ø· Ø§Ù„Ø¥ÙŠÙ‚Ø§Ø¹.",
                "Ø§Ø¶Ø¨Ø· ÙˆØªÙŠØ±Ø© Ø§Ù„Ø´Ø±Ø§Ø¡ Ù…Ø¤Ù‚ØªØ§Ù‹ Ù„ØªÙˆØ§Ø²Ù† Ø§Ù„Ø´Ù‡Ø±."],
        },
        "spending_spree": {
            "firm": [
                "ÙˆØªÙŠØ±Ø© Ø¥Ù†ÙØ§Ù‚ Ù…ØªØ³Ø§Ø±Ø¹Ø©. Ø£ÙˆÙ‚Ù Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª ØºÙŠØ± Ø§Ù„Ø¶Ø±ÙˆØ±ÙŠØ© ÙÙˆØ±Ø§Ù‹.",
                "Ø§Ù†Ø­Ø±Ø§Ù Ù…Ù„Ø­ÙˆØ¸ ÙÙŠ Ø§Ù„ØµØ±Ù. Ø£Ø¹Ø¯ Ø¶Ø¨Ø· Ø£ÙˆÙ„ÙˆÙŠØ§ØªÙƒ Ø§Ù„ÙŠÙˆÙ…."],
            "motivating": [
                "Ø§Ù„ØµØ±Ù Ø²Ø§Ø¯ ÙØ¬Ø£Ø©. Ø§Ø®ØªØ± ÙŠÙˆÙ…ÙŠÙ† Ø¨Ù„Ø§ Ù…Ø´ØªØ±ÙŠØ§Øª Ù„ØªØ¹ÙˆÙŠØ¶ Ø§Ù„ÙØ§Ø±Ù‚.",
                "Ù‡Ø¯Ø¦ Ø§Ù„Ø¥ÙŠÙ‚Ø§Ø¹ Ù…Ø¤Ù‚ØªØ§Ù‹ Ù„ØªØ¨Ù‚ÙŠ Ø®Ø·ØªÙƒ Ù…Ø±ÙŠØ­Ø©."],
            "balanced": [
                "Ù„Ø§Ø­Ø¸Ù†Ø§ Ø²ÙŠØ§Ø¯Ø© ÙÙŠ Ø§Ù„Ø¥Ù†ÙØ§Ù‚. ØªÙˆÙ‚Ù Ù‚ØµÙŠØ± ÙŠØ¹ÙŠØ¯ Ø§Ù„Ø§Ø³ØªÙ‚Ø±Ø§Ø±.",
                "Ø¥Ù†ÙØ§Ù‚Ùƒ Ø§Ø±ØªÙØ¹. Ù…Ø±Ø§Ø¬Ø¹Ø© Ø³Ø±ÙŠØ¹Ø© ØªÙƒÙÙŠ Ù„Ø¥Ø¹Ø§Ø¯ØªÙ‡ Ù„Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨."],
        },
        "large_income": {
            "firm": [
                "Ø¯Ø®Ù„ Ø¥Ø¶Ø§ÙÙŠ {amount}. Ø­Ø¬Ø² 50% Ù„Ù„Ø§Ø¯Ø®Ø§Ø± Ù‚Ø±Ø§Ø± Ø­Ø§Ø³Ù… Ø§Ù„Ø¢Ù†.",
                "Ø¹Ø²Ø² Ø§Ù„Ù…Ø¯Ø®Ø±Ø§Øª Ù…Ù† Ù‡Ø°Ø§ Ø§Ù„Ø¯Ø®Ù„ Ù‚Ø¨Ù„ Ø£ÙŠ ØµØ±Ù."],
            "motivating": [
                "Ø¯Ø®Ù„ Ù…Ù…ÙŠØ² {amount}! ÙØ±ØµØ© Ù„ØªØ³Ø±ÙŠØ¹ Ø£Ù‡Ø¯Ø§ÙÙƒ Ø£Ùˆ Ø¨Ù†Ø§Ø¡ ØµÙ†Ø¯ÙˆÙ‚ Ø·ÙˆØ§Ø±Ø¦.",
                "Ø§Ø³ØªØ®Ø¯Ù… Ø¬Ø²Ø¡Ø§Ù‹ Ù…Ù† {amount} Ù„ØªØ¹Ø²ÙŠØ² Ø§Ø³ØªØ«Ù…Ø§Ø±Ø§ØªÙƒ ÙÙˆØ±Ø§Ù‹."],
            "balanced": [
                "Ø¯Ø®Ù„ {amount} ÙˆØµÙ„. ÙˆØ²Ø¹ Ø¨ÙŠÙ† Ø§Ø¯Ø®Ø§Ø± ÙˆØ§Ø³ØªØ«Ù…Ø§Ø± ÙˆØµØ±Ù Ù…Ø³Ø¤ÙˆÙ„.",
                "Ù‚Ø³Ù‘Ù… {amount} Ø¨Ù†Ø³Ø¨Ø© ØªØ­ÙØ¸ Ø§Ø³ØªÙ‚Ø±Ø§Ø±Ùƒ ÙˆÙ…Ø±ÙˆÙ†ØªÙƒ."],
        },
        "general_observation": {
            "firm": [
                "ØªÙ… ØªØ³Ø¬ÙŠÙ„ '{category}'. Ø§Ø³ØªÙ…Ø± Ø¨Ø§Ù„ØªÙˆØ«ÙŠÙ‚ ÙˆØ±Ø§Ù‚Ø¨ Ø£ÙŠ ØªØ¶Ø®Ù….",
                "ØªØªØ¨Ø¹ '{category}' ÙŠÙˆØ¶Ø­ Ø§ØªØ¬Ø§Ù‡Ùƒ. Ø§Ø­Ø°Ø± Ø§Ù„ØªÙƒØ±Ø§Ø± ØºÙŠØ± Ø§Ù„Ø¶Ø±ÙˆØ±ÙŠ."],
            "motivating": [
                "ØªÙˆØ«ÙŠÙ‚ '{category}' Ø®Ø·ÙˆØ© ÙˆØ§Ø¹ÙŠØ© ØªØ¨Ù†ÙŠ ÙˆØ¹ÙŠÙƒ Ø§Ù„Ù…Ø§Ù„ÙŠ.",
                "Ø³Ø¬Ù„Øª '{category}'. Ù‡Ø°Ø§ ÙŠÙ…Ù†Ø­Ùƒ Ø±Ø¤ÙŠØ© Ø£ÙˆØ¶Ø­ Ù„Ù‚Ø±Ø§Ø±Ø§Øª Ø£ÙØ¶Ù„."],
            "balanced": [
                "ØªÙ… Ø¥Ø¶Ø§ÙØ© '{category}'. Ø§Ù„Ø§Ø³ØªÙ…Ø±Ø§Ø± ÙÙŠ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ ÙŠØ­Ø³Ù† Ø§Ù„ØªØ­Ù„ÙŠÙ„.",
                "ØªØ¯ÙˆÙŠÙ† Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ù…Ø«Ù„ '{category}' ÙŠØ­Ø§ÙØ¸ Ø¹Ù„Ù‰ Ø§Ù„Ø´ÙØ§ÙÙŠØ© Ø§Ù„Ù…Ø§Ù„ÙŠØ©."],
        },
    }

    @classmethod
    def generate_goal_message(cls, key: str, tone: str = "info", tone_level: str = DEFAULT_TONE, **kwargs: Any) -> str:
        """
        Generates a message for goal analysis.
        
        Args:
            key (str): The message key (e.g., 'goal_near').
            tone (str): The tone of the message (success, warning, info).
            tone_level (str): firm | motivating | balanced.
            **kwargs: Arguments to format the message string.
            
        Returns:
            str: The formatted message.
        """
        prefix = random.choice(cls.PREFIXES.get(tone, [""]))
        tone_bucket = cls._resolve_tone_bucket(tone_level)
        template_list = cls.GOAL_MSGS.get(key, {}).get(tone_bucket, ["Ù…ØªØ§Ø¨Ø¹Ø© Ù‡Ø¯Ù."])
        template = random.choice(template_list)
        return f"{prefix}{template}".format(**kwargs)

    @classmethod
    def generate_transaction_message(cls, key: str, tone: str = "info", tone_level: str = DEFAULT_TONE, **kwargs: Any) -> str:
        """
        Generates a message for transaction analysis.
        
        Args:
            key (str): The message key.
            tone (str): The tone of the message.
            tone_level (str): firm | motivating | balanced.
            **kwargs: Arguments to format the message string.
            
        Returns:
            str: The formatted message.
        """
        prefix = random.choice(cls.PREFIXES.get(tone, [""]))
        tone_bucket = cls._resolve_tone_bucket(tone_level)
        template_list = cls.TRANS_MSGS.get(key, {}).get(tone_bucket, ["Ù…Ø¹Ø§Ù…Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø©."])
        template = random.choice(template_list)
        return f"{prefix}{template}".format(**kwargs)

    @classmethod
    def _resolve_tone_bucket(cls, tone_level: str) -> str:
        tone = (tone_level or cls.DEFAULT_TONE).lower()
        if tone not in cls.TONE_LEVELS:
            return cls.DEFAULT_TONE
        return tone
